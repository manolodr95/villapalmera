<?xml version="1.0" encoding="utf-8"?>
<!--
  Â© 2024 (Daniel Diaz <daniel.diaz@isjo-technology.com>)
  License AGPL-3.0 or later (http://www.gnu.org/licenses/agpl).
-->
<odoo>
	<template id="report_condo_charge">
        <t t-call="web.html_container">
            <t t-call="web.external_layout">
            <div class="page">
                <t t-set="contract_lines" t-value="contract_lines"/>
                <t t-set="months" t-value="months"/>
                <t t-set="left_payment_count" t-value="0"/>
                <table class="table table-bordered mb32">
                    <thead>
                        <tr style="background-color:#f8f5f7;font-size: 28px;">
                            <td colspan="7">
                                <div style="padding:20px;">
                                    <span style="float:left; 28px;font-weight: bold;">
                                        <t t-if="start_date">
                                            <t t-esc="start_date"/>
                                        </t>
                                    </span>
                                    <span style="text-align:center;font-weight: bold;padding:50px;">Scheduled Payment</span>
                                    <span style="float:right;; 28px;font-weight: bold;">
                                         <t t-if="end_date">
                                            <t t-esc="end_date"/>
                                        </t>
                                    </span>
                                </div>
                            </td>
                        </tr>
                        <tr style="background-color:#b0d8e6; ">
                            <th>Partner</th>
                            <th>Contract</th>
                            <th>Amount Due</th>
                            <th>Interest Amount</th>
                            <th>Amount Subtotal</th>
                            <th>Total Patial Payment</th>
                            <th>Left Payment</th>
                        </tr>
                    </thead>
                    <tbody style="background-color:#dddcdc;">
                        <t t-foreach="months"  t-as="mon">
                            <t t-if="contract_lines[mon]">
                                <tr>
                                    <td colspan="7">
                                        <div style="font-size:20px !important;text-align:left;padding:10px;">
                                           <strong><t t-esc="mon"/></strong>
                                        </div>
                                    </td>
                                </tr>

                                <t t-foreach="contract_lines[mon]" t-as="line">
                                    <tr>
                                        <td>
                                            <t t-esc="line.partner_id.display_name"/>
                                        </td>
                                        <td>
                                            <t t-esc="line.contract_id.name"/>
                                        </td>
                                        <!--<td>
                                            <t t-esc="line.amount_due"/>
                                        </td>
                                        <td>
                                            <t t-esc="line.interest_amount"/>
                                        </td>
                                        <td>
                                            <t t-esc="line.amount_subtotal"/>
                                        </td>
                                        <td>
                                            <t t-esc="line.auto_payment"/>
                                        </td>
                                        <td>
                                            <t t-esc="line.left_payment"/>
                                        </td> 
                                        
                                        <t t-set="left_payment_count" 
                                            t-value="left_payment_count + line.left_payment"/>-->
                                    </tr>
                                </t>
                            </t>                           
                        </t>
                         <tr>
                                <td  colspan="5"></td>
                                <td>
                                    <h4>Total Payment</h4>
                                </td>
                                <td>
                                    <!--<t t-esc='"%.2f" % left_payment_count'/>-->
                                </td>
                            </tr>
                    </tbody>
                </table>
            </div>
        </t>
        </t>
    </template> 
</odoo>
